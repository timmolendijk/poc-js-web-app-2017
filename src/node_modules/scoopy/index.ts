export const NS = '@@scoopy';

const hiddenProps: WeakMap<any, { [name: string]: any }> = new WeakMap();
export function hasHiddenProp(object, name) {
  return name in (hiddenProps.get(object) || {});
}
export function getHiddenProp(object, name) {
  return (hiddenProps.get(object) || {})[name];
}
export function setHiddenProp(object, name, value) {
  hiddenProps.set(object,
    Object.assign(hiddenProps.get(object) || {}, { [name]: value })
  );
}

// export function hasField(object, name) {
//   return name in (getHiddenProp(object, 'fields') || {});
// }
// export function getField(object, name) {
//   return (getHiddenProp(object, 'fields') || {})[name];
// }
// export function setField(object, name, value) {
//   setHiddenProp(object, 'fields',
//     Object.assign(getHiddenProp(object, 'fields') || {}, { [name]: value })
//   );
// }

export { default as Container } from './container';
export { default as observable } from './observable';
